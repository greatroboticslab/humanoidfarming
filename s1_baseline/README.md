# S1

This directory stores the S1 files and scripts to extract tasks for MoMask to run.

## Setup

You will need to install the requirements to run the script. It is recommended to create a new environment:

	conda create -n s1

Once you have an environment, install all the requirements:

	pip install -r requirements.txt

Once all the requirements are finished installing, you can navigate to the scripts/ folder to run s1.

## Task Generation

You can run the s1.py script:

	python s1.py --start <from> --end <to>

This script will create a list of tasks for MoMask to animate. --start is the first file to start from, and --end is the one to end at. These are numbers, not filenames.

Alternatively, you can run a Slurm job:

	sbatch generate_tasks.slurm

The tasks will be saved in the output/ folder as .json files.

## Caption Shortening

Captions generated by MiniCPM can be shortened into a version more convenient for Blip3o image generation. To do this, run:

	python shorten_captions.py --start <from> --end <to>

The shortened captions will be stored in minicpm_baseline/output/shortencaptions/ --start is the first file to start from, and --end is the one to end at. These are numbers, not filenames.
